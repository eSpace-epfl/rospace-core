<launch>

    <!-- Load simulation world -->
	<param name="robot_description" textfile="$(find cso_gnc_sim)/res/models/world.urdf" />

    <!-- Include CSO base definition -->
    <include file="$(find cso_gnc_sim)/launch/cso_base_ore.launch" />

    <!-- Include TF publishers -->
    <include file="$(find cso_gnc_sim)/launch/tf_publisher_absolute.launch" />

    <!-- start rviz -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find cso_gnc_sim)/res/rviz/tf_large.rviz" required="true" />


     <!-- Launch Visualizer
    <node name="rqt_ekf" pkg="rqt_space_plugins" type="rqt_orbit_ekf" />
-->
    <!-- launch orbit visualizers -->
    <node name="cso_orbit_vis" pkg="rviz_orbit_node" type="rviz_orbit_node.py" >
        <remap from="oe" to="/cso/oe" />
        <param name="color" value="1 0 0 1" />
        <param name="name" value="cso" />
        <param name="pub_subsampling" value ="100" />
    </node>

    <node name="target_orbit_vis" pkg="rviz_orbit_node" type="rviz_orbit_node.py" >
        <remap from="oe" to="/target/oe" />
        <param name="color" value="0 0 1 1" />
        <param name="name" value="target" />
        <param name="pub_subsampling" value ="10" />
    </node>
    <node name="target_state_orbit_vis" pkg="rviz_orbit_node" type="rviz_orbit_node.py" output="screen" >
        <remap from="oe" to="/cso/state_oe" />
        <param name="color" value="0 1 0 1" />
        <param name="name" value="target_state" />
         <param name="pub_subsampling" value ="10" />
    </node>

</launch>
